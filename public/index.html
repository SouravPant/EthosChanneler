<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethos Mapper - Farcaster Profile Analysis</title>
    <meta name="cache-bust" content="v3-manifest-fix-2024-01-21" />
    
    <!-- Farcaster Frame Meta Tags -->
    <meta name="fc:frame" content="vNext" />
    <meta name="fc:frame:image" content="https://via.placeholder.com/1200x630/667eea/ffffff?text=üó∫Ô∏è+Ethos+Mapper%0AFarcaster+Profile+Analysis%0APowered+by+Ethos+Network" />
    <meta name="fc:frame:button:1" content="üó∫Ô∏è Open Ethos Mapper" />
    <meta name="fc:frame:button:1:action" content="link" />
    <meta name="fc:frame:button:1:target" content="https://ethoschannel.netlify.app/?from=frame" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Ethos Mapper - Farcaster Profile Analysis" />
    <meta property="og:description" content="Analyze Farcaster profiles with Ethos Network reputation data" />
    <meta property="og:image" content="https://via.placeholder.com/1200x630/667eea/ffffff?text=üó∫Ô∏è+Ethos+Mapper%0AFarcaster+Profile+Analysis%0APowered+by+Ethos+Network" />
    <meta property="og:url" content="https://ethoschannel.netlify.app/" />
    
    <!-- Load Farcaster SDK -->
    <script type="module">
        try {
            console.log('üöÄ Loading @farcaster/miniapp-sdk...');
            const { sdk } = await import('https://esm.sh/@farcaster/miniapp-sdk');
            window.sdk = sdk;
            console.log('‚úÖ SDK loaded successfully');
        } catch (error) {
            console.error('‚ùå Failed to load SDK:', error);
        }
    </script>
    
    <!-- Load Simple Farcaster Connect App -->
    <script src="farcaster-connect.js"></script>
    <style>
        body {
            background: linear-gradient(135deg, #1a237e 0%, #3949ab 100%);
            font-family: 'Inter', 'Roboto', 'Open Sans', Arial, sans-serif;
            color: #222;
            margin: 0;
            min-height: 100vh;
        }
        #app {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 80vh;
        }
        .card {
            background: #fff;
            border-radius: 18px;
            box-shadow: 0 4px 24px rgba(30, 41, 59, 0.12), 0 1.5px 4px rgba(30, 41, 59, 0.08);
            padding: 48px 36px;
            max-width: 420px;
            width: 100%;
            text-align: center;
            margin: 24px;
        }
        .card h2 {
            color: #3949ab;
            margin-bottom: 16px;
            font-size: 2rem;
            font-weight: 700;
        }
        .card p {
            color: #555;
            font-size: 1.1rem;
            margin-bottom: 0;
        }
        .noscript-card {
            background: #1a1a2e;
            color: #fff;
            border-radius: 18px;
            box-shadow: 0 4px 24px rgba(30, 41, 59, 0.12), 0 1.5px 4px rgba(30, 41, 59, 0.08);
            padding: 48px 36px;
            max-width: 420px;
            width: 100%;
            text-align: center;
            margin: 24px auto;
            font-family: 'Inter', 'Roboto', 'Open Sans', Arial, sans-serif;
        }
        .noscript-card h2 {
            color: #ef4444;
            margin-bottom: 16px;
            font-size: 2rem;
            font-weight: 700;
        }
        @media (max-width: 600px) {
            .card, .noscript-card {
                padding: 24px 8px;
                max-width: 98vw;
            }
        }
    </style>
</head>
<body>
    <!-- App Container -->
    <div id="app">
        <!-- JavaScript will render the app here -->
        <div class="card">
            <h2>üó∫Ô∏è Loading Ethos Mapper...</h2>
            <p>Preparing to analyze your Farcaster profile...</p>
        </div>
    </div>
    
    <!-- Official Mini App loads itself -->
    
    <!-- Fallback for no JavaScript -->
    <noscript>
        <div class="noscript-card">
            <h2>‚ö†Ô∏è JavaScript Required</h2>
            <p>This Farcaster Frame application requires JavaScript to function.</p>
            <p>Please enable JavaScript in your browser and refresh the page.</p>
        </div>
    </noscript>
</body>
</html>